import{d as V,g as _,h as C,c as u,b as t,w as a,r as l,o as p,a as e,F as b,m as B,k as N,n as T,p as E,f as K,q as y,E as R,s as F,t as h,_ as H}from"./index-d73d4e79.js";import{u as q}from"./ai-9c3a86e1.js";const z={class:"mental-container"},D={class:"chat-container"},G={class:"message-avatar"},L={class:"message-content"},U={key:0,class:"ai-message typing"},j={class:"chat-input-container"},J={class:"mental-resources"},O=V({__name:"MentalSupport",setup(P){const w=q(),r=_(),n=_(!1),i=_(""),c=C([]),g=async()=>{const d=i.value.trim();if(!(!d||n.value)){c.push({role:"user",content:d}),i.value="",await y(),f(),n.value=!0;try{const s=await w.getMentalHealthSupport(d);c.push({role:"ai",content:s})}catch(s){R.error("获取回复失败，请稍后重试"),console.error("Get mental health support error:",s)}finally{n.value=!1,await y(),f()}}},f=()=>{r.value&&(r.value.scrollTop=r.value.scrollHeight)};return(d,s)=>{const M=l("el-input"),I=l("el-button"),A=l("el-divider"),k=l("el-alert"),m=l("el-col"),v=l("el-card"),x=l("el-row");return p(),u("div",z,[t(v,{class:"mental-card"},{header:a(()=>[...s[1]||(s[1]=[e("div",{class:"mental-header"},[e("span",null,"AI心理健康支持")],-1)])]),default:a(()=>[s[11]||(s[11]=e("div",{class:"mental-intro"},[e("p",null,"欢迎使用AI心理健康支持服务。请描述您当前的情绪状态或心理困扰，我们的AI助手将为您提供专业的建议和支持。")],-1)),e("div",D,[e("div",{class:"chat-messages",ref_key:"chatMessagesRef",ref:r},[s[3]||(s[3]=e("div",{class:"system-message"},[e("div",{class:"message-avatar"},"AI"),e("div",{class:"message-content"},[e("p",null,"你好！我是AI心理健康助手。请告诉我你现在的感受，我会尽力帮助你。")])],-1)),(p(!0),u(b,null,B(c,(o,S)=>(p(),u("div",{key:S,class:F(o.role==="user"?"user-message":"ai-message")},[e("div",G,h(o.role==="user"?"我":"AI"),1),e("div",L,[e("p",null,h(o.content),1)])],2))),128)),n.value?(p(),u("div",U,[...s[2]||(s[2]=[e("div",{class:"message-avatar"},"AI",-1),e("div",{class:"message-content"},[e("div",{class:"typing-indicator"},[e("span"),e("span"),e("span")])],-1)])])):N("",!0)],512),e("div",j,[t(M,{modelValue:i.value,"onUpdate:modelValue":s[0]||(s[0]=o=>i.value=o),type:"textarea",rows:2,placeholder:"请输入您的想法或问题...",onKeyup:T(E(g,["ctrl"]),["enter"])},null,8,["modelValue","onKeyup"]),t(I,{type:"primary",loading:n.value,onClick:g,class:"send-button"},{default:a(()=>[...s[4]||(s[4]=[K("发送",-1)])]),_:1},8,["loading"])])]),e("div",J,[s[10]||(s[10]=e("h3",null,"专业心理资源",-1)),t(A),t(x,{gutter:20},{default:a(()=>[t(m,{span:24},{default:a(()=>[t(k,{title:"重要提示",type:"warning",description:"AI助手提供的建议不能替代专业心理咨询师的诊断和治疗。如果您正在经历严重的心理困扰，请及时寻求专业心理健康服务。","show-icon":""})]),_:1}),t(m,{span:12},{default:a(()=>[t(v,{shadow:"hover"},{header:a(()=>[...s[5]||(s[5]=[e("div",{class:"card-header"},[e("span",null,"心理咨询热线")],-1)])]),default:a(()=>[s[6]||(s[6]=e("p",null,"国家心理危机干预热线：400-161-9995",-1)),s[7]||(s[7]=e("p",null,"北京心理援助热线：010-82951332",-1))]),_:1})]),_:1}),t(m,{span:12},{default:a(()=>[t(v,{shadow:"hover"},{header:a(()=>[...s[8]||(s[8]=[e("div",{class:"card-header"},[e("span",null,"建议阅读")],-1)])]),default:a(()=>[s[9]||(s[9]=e("ul",null,[e("li",null,"《情绪急救》"),e("li",null,"《被讨厌的勇气》"),e("li",null,"《非暴力沟通》")],-1))]),_:1})]),_:1})]),_:1})])]),_:1})])}}});const X=H(O,[["__scopeId","data-v-2762f442"]]);export{X as default};
